<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/menu.css" rel="stylesheet">
    <link href="./css/fonts.css" rel="stylesheet">
    <script src="./js/jquery.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/bootstrap.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/bootstrap.bundle.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->
    <script src="./js/bootstrap.min4.5.js"></script>
    <title>Quiz XSS Armazenado</title>
</head>

<style>

    .container{
        text-align: center;
    }

    .buttons{
        margin-top: 60px;
    }

    .btn{
        margin-right: 50px;
        padding: 5px 20px;
        color: white;
    }

    .robot{
        margin-left: -50px;
        margin-top: 20px;
    }

    .correct { color: green; }
    .incorrect { color: red; }


</style>

<body>
    
    <div style="display: flex; width: 100%;">

        <div class="menu-lateral" id="menu-lateral">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="./img/levels.png" alt="">Iniciante
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    <button class="dropdown-item" type="button">Intermediário</button>
                    <button class="dropdown-item" type="button">Avançado</button>
                </div>
            </div>
    
            <hr class="levels_line mt-1 mb-3">
    
            <button type="button" class="close-btn">
                <img src="./img/close-btn.png" onclick="close_menu()"></img>
            </button>
    
            <div class="img-div">
                <img src="./img/logo_oficial_branca.svg" class="img-logo"></img>
            </div>
    
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="./intro.html">Introdução</a>
                </li>
                <li class="nav-item" type="button" data-toggle="collapse" data-target="#XssRef" aria-expanded="false" aria-controls="opcoes">
                    <a class="nav-link active" aria-current="page" href="#">XSS Refletido</a>
                </li>
                <ul class="collapse ul-subitem" id="XssRef">
                    <li class="nav-subitem">
                    <a href="./intro_refletido.html">Introdução</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab1-refletido1.html">Laboratório 1</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab2-refletido1.html">Laboratório 2</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./quiz_refletido.html">Perguntas</a><br>
                    </li>
                </ul>
                <li class="nav-item" type="button" data-toggle="collapse" data-target="#xssarm" aria-expanded="false" aria-controls="opcoes">
                    <a class="nav-link active" aria-current="page" href="#">XSS Armazenado</a>
                </li>
                <ul class="collapse ul-subitem" id="xssarm">
                    <li class="nav-subitem">
                    <a href="./intro_armazenado.html">Introdução</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab1-armazenado1.html">Laboratório 1</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab2-armazenado1.html">Laboratório 2</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./quiz_armazenado.html">Perguntas</a><br>
                    </li>
                </ul>
                <li class="nav-item" type="button" data-toggle="collapse" data-target="#xssdom" aria-expanded="false" aria-controls="opcoes">
                    <a class="nav-link active" aria-current="page" href="#">XSS DOM</a>
                </li>
                <ul class="collapse ul-subitem" id="xssdom">
                    <li class="nav-subitem">
                    <a href="./intro_dom.html">Introdução</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab1-dom1.html">Laboratório 1</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./tutoriais/lab2-dom1.html">Laboratório 2</a><br>
                    </li>
                    <li class="nav-subitem">
                    <a href="./quiz_dom.html">Perguntas</a><br>
                    </li>
                </ul>
            </ul>
    
            <div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-success" style="width: 25%"></div>
            </div>
        </div>
    
        <div class="menu-lateral-closed btn-menu-hidden"><img src="./img/mobile.png" alt=""></div>

<div class="container">

    <div class="central-text" style="text-align: justify; padding-top: 40px; padding-left: 90px; padding-right: 90px;">

        <h5>Baseado em seus conhecimentos sobre XSS Armazenado, diga se as afirmações são verdadeiras ou falsas:</h5>
        <br>

        <form id="questionnaireForm">
            <div>
                <h6><mark>O ataque fica armazenado na memória do site.</mark></h6>
                <label>
                    <input type="radio" name="Pergunta1" value="Verdadeiro" required> Verdadeiro
                </label><br>
                <label>
                    <input type="radio" name="Pergunta1" value="Falso"> Falso
                </label>
            </div>
            <br>
            <div>
                <h6><mark>O ataque passa pelo site antes de chegar ao usuário.</mark></h6>
                <label>
                    <input type="radio" name="Pergunta2" value="Verdadeiro" required> Verdadeiro
                </label><br>
                <label>
                    <input type="radio" name="Pergunta2" value="Falso"> Falso
                </label>
            </div>
            <br>
            <div>
                <h6><mark>É possível sofrer esse ataque apenas por acessar um link para um site vulnerável</mark></h6>
                <label>
                    <input type="radio" name="Pergunta3" value="Verdadeiro" required> Verdadeiro
                </label><br>
                <label>
                    <input type="radio" name="Pergunta3" value="Falso"> Falso
                </label>
            </div>
            <br>
            <div>
                <h6><mark>É impossível sofrer danos sérios, como ter suas senhas roubadas, devido a esse tipo de ataque</mark></h6>
                <label>
                    <input type="radio" name="Pergunta4" value="Verdadeiro"> Verdadeiro
                </label><br>
                <label>
                    <input type="radio" name="Pergunta4" value="Falso" required> Falso
                </label>
            </div>
        
            <br>
            <input type="submit" value="Checar Respostas">
        </form>

        <div id="results"></div>

    </div>

    <div class="container buttons">
        <div class="btn btn-primary">
            <a href="./intro_dom.html" style="color: white; text-decoration: none;"> Finalizado </a>
        </div>
    </div>

</div>



<script>
    document.getElementById('questionnaireForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const correctAnswers = {
            Pergunta1: 'Verdadeiro',
            Pergunta2: 'Verdadeiro',
            Pergunta3: 'Verdadeiro',
            Pergunta4: 'Falso'
        };

        let resultsHtml = '<br><h5>Resultados</h5>';
        let score = 0;

        for (let question in correctAnswers) {
            const selectedAnswer = document.querySelector(`input[name="${question}"]:checked`).value;
            if (selectedAnswer === correctAnswers[question]) {
                resultsHtml += `<p class="correct">${question.replace('question', 'Question ')}: Resposta correta!</p>`;
                score++;
            } else {
                resultsHtml += `<p class="incorrect">${question.replace('question', 'Question ')}: Não, a resposta correta é ${correctAnswers[question]}.</p>`;
            }
        }

        resultsHtml += `<p>`;
            
        if(score >= 1){
            resultsHtml += `Parabéns! `
        }

        resultsHtml += `Você acertou ${score} / 4 questões.</p>`;

        document.getElementById('results').innerHTML = resultsHtml;
    });
</script>


<script src="./js/menuLateral.js"></script>
</body>
</html>